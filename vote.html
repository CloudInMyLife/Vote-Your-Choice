<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>VoteYourChoice | 온라인투표서비스</title>
<link rel='stylesheet' href='css/woocommerce-layout.css' type='text/css' media='all'/>
<link rel='stylesheet' href='css/woocommerce-smallscreen.css' type='text/css' media='only screen and (max-width: 768px)'/>
<link rel='stylesheet' href='css/woocommerce.css' type='text/css' media='all'/>
<link rel='stylesheet' href='css/font-awesome.min.css' type='text/css' media='all'/>
<link rel='stylesheet' href='css/style.css' type='text/css' media='all'/>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Oswald:400,500,700%7CRoboto:400,500,700%7CHerr+Von+Muellerhoff:400,500,700%7CQuattrocento+Sans:400,500,700' type='text/css' media='all'/>
<link rel='stylesheet' href='css/easy-responsive-shortcodes.css' type='text/css' media='all'/>
<style>
    .centered-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 50vh;
    }
    .signup-form {
        background-color: #f9f9f9;
        border-radius: 5px;
        padding: 20px;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        width: 300px;
    }

    .submit-button {
        width: 70%;
        background-color: #007bff;
        color: #fff;
        padding: 5px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        justify-content: center;
        transition: background-color 0.3s ease-in-out;
    }

    .submit-button:hover {
        background-color: #0056b3;
    }
        /* 모달 배경 */
        .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
    }

    /* 모달 내용 */
    .modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
    }

    /* 모달 닫기 버튼 */
    .modal-close {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
    }
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="home page page-template page-template-template-portfolio page-template-template-portfolio-php">
<div id="page">
    <header id="masthead" class="site-header">
        <div class="site-branding">
            <h1 class="site-title"><a href="index.html" rel="home">Vote Your Choice</a></h1>
            <h2 class="site-description">온라인 투표 서비스 </h2>
        </div>
        <nav id="site-navigation" class="main-navigation">
            <button class="menu-toggle">Menu</button>
            <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <div class="menu-menu-1-container">
                <ul id="menu-menu-1" class="menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li><a href="register.html">register</a></li>
                    <li><a href="use.html">How to use</a></li>
                    <li><a href="vote.html">Vote</a></li>
		    <li><a href="about.html">About</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <html lang="en">
        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
            <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
            <title>Bootstrap Example</title>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
        </head>
        <div class="container text-center">
            <div class="row">
                <div class="col">
                    <body class="p-3 m-0 border-0 bd-example m-0 border-0">
                        <div class="card" style="width: 18rem;">
                            <img src="images/p230601-30_1.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">제 1대 대선 투표</h5>
                                <p class="card-text">종료되었습니다.</p>



                                <button onclick="showAlert()" class="btn btn-primary stretched-link">참여종료</button>

                                <script>
                                function showAlert() {
                                    if (confirm("이미 종료된 투표입니다")) {
                                        window.location.href = vote.html; // 투표선택 페이지로 이동
                                    }
                                }
                                </script>



                            </div>
                        </div>
                    </body>
                </div>
                <div class="col">
                    <body class="p-3 m-0 border-0 bd-example m-0 border-0">
                        <div class="card" style="width: 18rem;">
                            <img src="images/p230601-30_1.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">제 2대 대선 투표</h5>
                                <p class="card-text">종료되었습니다.</p>


                                <button onclick="showAlert()" class="btn btn-primary stretched-link">참여종료</button>

                                <script>
                                function showAlert() {
                                    if (confirm("이미 종료된 투표입니다")) {
                                        window.location.href = vote.html; // 투표선택 페이지로 이동
                                    }
                                }
                                </script>


                            </div>
                        </div>
                    </body>
                </div>
                <div class="col">
                    <body class="p-3 m-0 border-0 bd-example m-0 border-0">
                        <div class="card" style="width: 18rem;">
                            <img src="images/p230601-30_1.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">제 3대 대선 투표</h5>
                                <p class="card-text">종료되었습니다.</p>
                                

                                <button onclick="showAlert()" class="btn btn-primary stretched-link">참여종료</button>

                                <script>
                                function showAlert() {
                                    if (confirm("이미 종료된 투표입니다")) {
                                        window.location.href = vote.html; // 투표선택 페이지로 이동
                                    }
                                }
                                </script>



                            </div>
                        </div>
                    </body>
                </div>
                <div class="col">
                    <body class="p-3 m-0 border-0 bd-example m-0 border-0">
                        <div class="card" style="width: 18rem;">
                            <img src="images/p230601-30_1.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">제 4대 대선 투표</h5>
                                <p class="card-text">종료되었습니다.</p>
                                

                                <button onclick="showAlert()" class="btn btn-primary stretched-link">참여종료</button>

                                <script>
                                function showAlert() {
                                    if (confirm("이미 종료된 투표입니다")) {
                                        window.location.href = vote.html; // 투표선택 페이지로 이동
                                    }
                                }
                                </script>



                            </div>
                        </div>
                    </body>
                </div>
                <div class="col">
                    <body class="p-3 m-0 border-0 bd-example m-0 border-0">
                        <div class="card" style="width: 18rem;">
                            <img src="images/p230601-30_1.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">제 5대 대선 투표</h5>
                                <p class="card-text">종료되었습니다.</p>
                                

                                <button onclick="showAlert()" type="button" class="btn btn-primary stretched-link">참여종료</button>

                                <script>
                                function showAlert() {
                                    if (confirm("이미 종료된 투표입니다")) {
                                        window.location.href = vote.html; // 투표선택 페이지로 이동
                                    }
                                }
                                </script>


                            </div>
                        </div>
                    </body>
                </div>
                <div class="col">
                    <body class="p-3 m-0 border-0 bd-example m-0 border-0">
                        <div class="card" style="width: 18rem;">
                            <img src="images/p230601-30_1.jpg" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">제 6대 대선 투표</h5>
                                <p class="card-text">진행 중입니다.</p>
                                <a href="choice.html" type="button" class="btn btn-primary stretched-link">참여하기</a>
                            </div>
                        </div>
                    </body>
                </div>
            </div>
        </div>
    </html>
    
    <!-- 모달 오버레이 -->
    <div class="modal-overlay">
        <div class="modal-content">
            <h3>Confirm Vote</h3>
            <p>Are you sure you want to vote?</p>
            <button type="button" class="modal-close" onclick="closeModal()">&#10005;</button>
            <button type="button" class="submit-button" onclick="castVote(); closeModal();">Vote</button>
        </div>
    </div>

    <footer id="colophon" class="site-footer">
        <div class="container">
            <div class="site-info">
                <h1 style="font-family: 'Herr Von Muellerhoff';color: #ccc;font-weight:300;text-align: center;margin-bottom:0;margin-top:0;line-height:1.4;font-size: 46px;">Vote Your choice</h1>
                Shared by <i class="fa fa-love"></i><a href="https://bootstrapthemes.co">yizo</a>
    
            </div>
        </div>	
    </footer>
    <script>
        // 모달 열기 함수
        function openModal() {
            var modalOverlay = document.querySelector('.modal-overlay');
            modalOverlay.style.display = 'block';
        }
    
        // 모달 닫기 함수
        function closeModal() {
            var modalOverlay = document.querySelector('.modal-overlay');
            modalOverlay.style.display = 'none';
        }
    
        // 투표 확인 모달에서 "Vote" 버튼을 눌렀을 때 실행되는 함수
        function castVote() {
            var selectedOption = document.querySelector("input[name='vote']:checked");
            
            if (selectedOption) {
                var selectedValue = selectedOption.value;
    
                // 투표 데이터를 서버로 전송하는 Ajax 요청
                $.ajax({
                    url: "process_vote.php", // 서버 측 처리 스크립트 경로
                    method: "POST",
                    data: { vote: selectedValue }, // 투표 데이터 전송 (selectedValue 사용)
                    success: function(response) {
                        console.log("Vote successfully casted!"); // 성공 메시지 출력
                        closeModal(); // 모달 닫기
                        window.location.href = "index.html"; // 홈페이지로 이동, URL 수정 필요
                    },
                    error: function(xhr, status, error) {
                        console.log("Failed to cast vote:", error); // 실패 메시지 출력
                        closeModal(); // 모달 닫기
                    }
                });
            } else {
                console.log("No option selected.");
            }
        }
    </script>
    <script src='js/jquery.js'></script>
    <script src='js/plugins.js'></script>
    <script src='js/scripts.js'></script>
    <script src='js/masonry.pkgd.min.js'></script>
    </body>
    </html>
